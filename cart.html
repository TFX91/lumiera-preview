<!DOCTYPE html>
<html lang="sk">
<head>
<meta charset="UTF-8">
<title>LUMIÈRA NOIR | Košík</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="robots" content="noindex, nofollow">

<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600;700&family=Inter:wght@300;400;500&display=swap" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

<style>
:root{
    --bg:#07070a;
    --gold:#c9b46d;
    --uv:#b36bff;
    --text:#f2f2f2;
}
body{
    margin:0;
    background: linear-gradient(to bottom,#1b0033,#05000a);
    color:var(--text);
    font-family:'Inter',sans-serif;
    overflow-x:hidden;
}
h1,h2,h3{font-family:'Playfair Display',serif;}

nav{
    background:rgba(0,0,0,.45);
    backdrop-filter:blur(10px);
    border-bottom:1px solid rgba(201,180,109,.35);
}
.navbar-brand{color:var(--gold); letter-spacing:2px;}
.nav-link{
    color:var(--gold);
    font-size:.85rem;
    opacity:.9;
    position:relative;
}
.nav-link::after{
    content:''; position:absolute; left:0; bottom:-3px; width:0; height:2px;
    background:linear-gradient(90deg,#b36bff,#ff4fd8); transition:.35s;
}
.nav-link:hover::after, .nav-link.active::after{width:100%;}
.nav-link.active{color:#b36bff; text-shadow:0 0 8px #b36bff;}

.hero{
    min-height:80vh;
    display:flex; align-items:center; justify-content:center; text-align:center; position:relative;
}
.hero h1{
    font-size:clamp(3rem,7vw,6rem);
    letter-spacing:.35em;
    color:var(--uv);
}
.hero p{color:#c9c1ff; font-size:1.2rem;}

.glass{
    background:rgba(255,255,255,.04);
    backdrop-filter:blur(14px);
    border:1px solid rgba(201,180,109,.2);
    border-radius:20px;
    padding:20px;
    margin-bottom:20px;
}

.lux-btn{
    background:transparent; border:1px solid var(--uv);
    color:var(--uv); padding:10px 30px; border-radius:40px; font-size:.75rem;
    transition:.35s;
}
.lux-btn:hover{
    background:var(--uv); color:#000; box-shadow:0 0 25px var(--uv);
}
.variant-select{
    width:100%;
    background:rgba(201,180,109,.15);
    border:1px solid var(--gold); color:var(--gold);
    padding:6px; border-radius:10px;
}

.cart-container{max-width:900px; margin:auto;}
.cart-header{font-weight:700; margin-bottom:10px; font-size:1.1rem;}
.cart-item{
    display:flex; justify-content:space-between; align-items:center;
    padding:10px 0; border-bottom:1px solid rgba(201,180,109,.2);
}
.cart-item div{flex:1; text-align:center;}
.cart-item img{width:80px; height:80px; object-fit:cover; border-radius:10px;}

.contact-form{
    max-width:900px; margin:auto; margin-top:40px;
}
.contact-form h3{margin-bottom:15px; color:var(--uv);}
.contact-form input, .contact-form select, .contact-form textarea{
    width:100%; padding:10px; margin-bottom:15px; border-radius:10px;
    border:1px solid var(--gold); background:rgba(201,180,109,.1); color:var(--gold);
}
.contact-form button.lux-btn{width:100%;}

footer{
    border-top:1px solid rgba(201,180,109,.3);
    background:#050507;
    font-size:.75rem;
    text-align:center;
    padding:15px 0;
}

canvas#galaxy{
    position:fixed; inset:0; z-index:-2; opacity:.35;
}
.cityscape{
    position:fixed; bottom:0; left:0; width:100%; height:220px;
    background:url('https://i.ibb.co/ZYW3VTp/cityscape.png') bottom center/cover no-repeat;
    z-index:-1; opacity:.15;
}
</style>
</head>
<body>

<canvas id="galaxy"></canvas>
<div class="cityscape"></div>

<!-- NAVBAR -->
<nav class="navbar navbar-expand-lg fixed-top">
<div class="container">
<a class="navbar-brand" href="index.html">LUMIÈRA NOIR</a>
<ul class="navbar-nav ms-auto">
<li class="nav-item"><a class="nav-link" href="index.html">Domov</a></li>
<li class="nav-item"><a class="nav-link" href="vision.html">Vízia</a></li>
<li class="nav-item"><a class="nav-link" href="collection.html">Kolekcia</a></li>
<li class="nav-item"><a class="nav-link active" href="cart.html">Košík</a></li>
<li class="nav-item"><a class="nav-link" href="#contact">Kontakt</a></li>
</ul>
</div>
</nav>

<!-- HERO -->
<section class="hero">
<div>
<h1>LUMIÈRA NOIR</h1>
<p>Váš exkluzívny košík – každý výber je starostlivo pripravený pre tých, ktorí ocenia luxus, eleganciu a precíznu dokonalosť v každom detaile.</p>
</div>
</section>

<!-- KOŠÍK -->
<section class="cart-container glass mt-4">
<h2 class="cart-header">Obsah košíka</h2>
<div id="cartItems"></div>
<div class="d-flex justify-content-between mt-3">
<button class="lux-btn" onclick="clearCart()">Vyprázdniť košík</button>
</div>
</section>

<!-- OBJEDNÁVKOVÝ FORMULÁR -->
<div class="contact-form glass mt-4">
<h3>Údaje objednávateľa</h3>
<form id="orderForm">
<label for="name">Meno a priezvisko</label>
<input type="text" id="name" name="name" placeholder="Vaše meno" required>

<label for="email">Email</label>
<input type="email" id="email" name="email" placeholder="Váš email" required>

<label for="phone">Telefón</label>
<input type="tel" id="phone" name="phone" placeholder="+421 XXX XXX XXX" pattern="^\+421\s\d{3}\s\d{3}\s\d{3}$" required>

<label for="street">Ulica a číslo</label>
<input list="streets" id="street" name="street" placeholder="Vyberte ulicu" required>
<datalist id="streets">
<option value="Hlavná">
<option value="Štefánikova">
<option value="Petržalská">
<option value="Námestie SNP">
<option value="Hviezdoslavova">
</datalist>

<label for="city">Mesto</label>
<input list="cities" id="city" name="city" placeholder="Vyberte mesto" required>
<datalist id="cities">
<option value="Bratislava - Petržalka">
<option value="Bratislava - Staré Mesto">
<option value="Bratislava - Ružinov">
<option value="Trnava - Centrum">
<option value="Trnava - Modranka">
</datalist>

<label for="zip">PSČ</label>
<input type="text" id="zip" name="zip" placeholder="010 01" readonly>

<label for="delivery">Spôsob odberu</label>
<select id="delivery" name="delivery" required>
<option value="">Vyberte spôsob odberu</option>
<option value="osobny">Osobný odber</option>
<option value="rozvoz">Rozvoz</option>
</select>
<small>Rozvoz možný iba v Bratislavskom a Trnavskom kraji, cena podľa km.</small>

<label for="note">Poznámka k objednávke</label>
<textarea id="note" name="note" rows="3" placeholder="Sem zadajte poznámku k objednávke"></textarea>

<button type="submit" class="lux-btn">Odoslať objednávku</button>
</form>
</div>

<footer>© 2025 LUMIÈRA NOIR</footer>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"></script>
<script>
emailjs.init('uBmaCJ5QxxC0LOY1W');

// GALAXY
const canvas=document.getElementById('galaxy'),ctx=canvas.getContext('2d');
let w,h,stars=[];
function resize(){w=canvas.width=innerWidth;h=canvas.height=innerHeight;}
window.addEventListener('resize',resize);resize();
for(let i=0;i<220;i++)stars.push({x:Math.random()*w,y:Math.random()*h,r:Math.random()*1.2,vx:(Math.random()-.5)*.05,vy:(Math.random()-.5)*.05});
(function draw(){
ctx.clearRect(0,0,w,h);
stars.forEach(s=>{
s.x+=s.vx;s.y+=s.vy;
if(s.x<0||s.x>w)s.vx*=-1;
if(s.y<0||s.y>h)s.vy*=-1;
ctx.beginPath();
ctx.fillStyle="rgba(179,107,255,.7)";
ctx.arc(s.x,s.y,s.r,0,Math.PI*2);
ctx.fill();
});
requestAnimationFrame(draw);
})();

// KOŠÍK
function loadCart(){
const cart = JSON.parse(localStorage.getItem('cart')) || [];
const container = document.getElementById('cartItems');
container.innerHTML='';
if(cart.length===0){container.innerHTML='<p>Košík je prázdny.</p>'; return;}
cart.forEach((item,i)=>{
const div = document.createElement('div');
div.className='cart-item';
div.innerHTML=`
<div>${item.name}</div>
<div>${item.variant}</div>
<div><input type="number" min="1" value="${item.qty}" onchange="updateQty(${i},this.value)"></div>
<div>${item.price || '25 €'}</div>
`;
container.appendChild(div);
});
}
function updateQty(index,value){
let cart=JSON.parse(localStorage.getItem('cart'))||[];
cart[index].qty=parseInt(value);
localStorage.setItem('cart',JSON.stringify(cart));
loadCart();
}
function clearCart(){
localStorage.removeItem('cart');
loadCart();
}

// PSČ podľa mesta
document.getElementById('city').addEventListener('change',function(){
const cityZip = {
"Bratislava - Petržalka":"851 01",
"Bratislava - Staré Mesto":"811 01",
"Bratislava - Ružinov":"821 09",
"Trnava - Centrum":"917 01",
"Trnava - Modranka":"917 03"
};
document.getElementById('zip').value = cityZip[this.value] || '';
});

// OBJEDNÁVKA S EMAILJS
document.getElementById('orderForm').addEventListener('submit', function(e){
e.preventDefault();

const cart = JSON.parse(localStorage.getItem('cart')) || [];
if(cart.length===0){alert('Košík je prázdny.'); return;}

// Vytvorenie HTML pre produkty
const produktyHtml = cart.map(item => `
<tr>
<td>${item.name}</td>
<td>${item.variant}</td>
<td>${item.qty}</td>
<td>${item.price || '25 €'}</td>
</tr>
`).join('');

const templateParams = {
from_name: this.name.value,
email: this.email.value,
telefon: this.phone.value,
ulica: this.street.value,
mesto: this.city.value,
psc: this.zip.value,
odber: this.delivery.value,
poznamka: this.note.value,
produkty: produktyHtml
};

emailjs.send('service_skuvlfb', 'template_17jkem8', templateParams)
.then(function(response){
    console.log('SUCCESS!', response.status, response.text);
    alert('Objednávka odoslaná! Ďakujeme za váš výber luxusu.');
    localStorage.removeItem('cart');
    document.getElementById('orderForm').reset();
    loadCart();
}, function(error){
    console.error('FAILED...', error);
    alert('Odoslanie objednávky zlyhalo. Skúste to prosím neskôr.');
});

});

loadCart();
</script>
</body>
</html>


